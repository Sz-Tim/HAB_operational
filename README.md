# HAB_operational
Operational forecasts for harmful algal blooms in Scotland

This project aims to predict HABs and their associated toxins in Scotland. Predictions are currently generated by four models (Hierarchical Bayesian cumulative ordinal, Hierarchical Bayesian dual logistic, Random Forest, and Random Forest split) along with an ensemble model. Each uses seasonally-varying effects, including autoregressive (2) terms, environmental conditions, particle tracking simulations of offshore influx, with site-level random effects. 

The `code/` directory contains:
- `01_initial_setup.R`: Generate and compile data for the initial models  
- `02-1_fit_initial_models.R`: Define predictors and fit models
- `02-2_variable_selection.R`: Define predictor sets and fit models
- `03_calc_model_weights.R`: Calculated weights for ensemble
- `04_weekly_main.R`: Wrapper for weekly updates, running the following:
  - `04-1_get_new_data.R`
  - `04-2_simulate_particles.R`
  - `04-3_compile_data.R`
  - `04-4_fit_new_models.R`
  - `04-5_export_predictions.R`



Note: Code was ported over from the [original repository](https://github.com/Sz-Tim/HB_HABs) in 2022 July.

